<div class="rule-main">
  <cdk-accordion class="basic-accordion">
    @for (section of sections; track section; let i = $index) {
      <cdk-accordion-item
        #accordionItem="cdkAccordionItem"
        class="accordion-item"
        role="button"
        tabindex="0"
        @bodyExpansion
      >
        <div class="accordion-item-header" (click)="accordionItem.toggle()">
          <span class="header-title">
            {{ section.title }}
          </span>

          <mat-icon
            class="accordion-indicator accordion-expand-indicator"
            [@indicatorRotate]="getExpansionState(accordionItem)"
          >
            expand_more
          </mat-icon>
        </div>
        <div
          class="accordion-item-body"
          role="region"
          [@bodyExpansion]="getExpansionState(accordionItem)"
        >
          <div class="accordion-item-body-content-wrapper">
            <div class="accordion-item-body-content">
              <markdown
                class="prose markdown-preview"
                [data]="section.body"
              ></markdown>
            </div>
          </div>
        </div>
      </cdk-accordion-item>
    }
  </cdk-accordion>
</div>
