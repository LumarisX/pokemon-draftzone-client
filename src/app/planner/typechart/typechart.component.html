<div
  class="flex flex-col max-h-full border-4 w-fit border-slate-400 bg-slate-100"
>
  <table class="table-fixed">
    <thead>
      <tr class="border-b-2 bg-slate-300 border-slate-400">
        <th
          class="w-12 border-b-2 border-r-4 border-r-slate-400 border-b-cyan-400 bg-cyan-400"
        ></th>
        <th class="w-8" *ngFor="let type of types">
          <img
            class=""
            src="../../../assets/icons/types/{{ type }}.png"
            onerror="this.src='../../../assets/icons/types/Unknown.png'"
            alt="{{ type }}"
          />
        </th>
      </tr>
    </thead>
  </table>
  <div class="overflow-y-auto scrollbar-hidden">
    <table class="table-fixed">
      <tbody class="border-y border-cyan-400">
        <tr *ngFor="let pokemon of typechart.team" class="">
          <th
            class="w-12 border-r-4 cursor-pointer border-r-slate-400 bg-cyan-400 hover:bg-cyan-300"
            (click)="toggleVisible(pokemon)"
          >
            <sprite
              [pokemon]="pokemon"
              [class.opacity-60]="pokemon.disabled"
            ></sprite>
          </th>
          <td
            *ngFor="let type of types"
            class="w-8 text-center border"
            [ngClass]="typeColor(pokemon.weak[type], pokemon.disabled!)"
          >
            {{ pokemon.weak[type] }}
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <table class="table-fixed">
    <thead class="border-b-4 border-slate-400">
      <tr class="">
        <th
          class="w-12 border-t-2 border-l border-r-4 border-cyan-400 border-r-slate-400 bg-cyan-400"
        ></th>
        <th
          class="w-8 border-t-2 bg-slate-300 border-slate-400"
          *ngFor="let type of types"
        >
          <img
            class="w-full"
            src="../../../assets/icons/types/{{ type }}.png"
            onerror="this.src='../../../assets/icons/types/Unknown.png'"
            alt="{{ type }}"
          />
        </th>
      </tr>
    </thead>
    <tfoot id="typeSum" class="bg-slate-300">
      <tr>
        <th class="text-xs border border-r-2 bg-rose-400 border-slate-400">
          Weaks
        </th>
        <td
          *ngFor="let weakness of weaknesses"
          class="text-center border"
          [ngClass]="weakColor(weakness)"
        >
          {{ weakness }}
        </td>
      </tr>
      <tr>
        <th class="text-xs border border-r-2 bg-emerald-400 border-slate-400">
          Resists
        </th>
        <td
          *ngFor="let resistance of resistances"
          class="text-center border"
          [ngClass]="resistColor(resistance)"
        >
          {{ resistance }}
        </td>
      </tr>
      <tr>
        <th
          class="text-xs bg-gradient-to-r from-rose-400 from-50% to-emerald-400 to-50% border border-slate-400 border-r-2"
        >
          Diff
        </th>
        <td
          *ngFor="let diff of difference"
          class="text-center border"
          [ngClass]="diffColor(diff)"
        >
          {{ diff }}
        </td>
      </tr>
      <tr>
        <th
          class="text-xs border border-r-2 bg-gradient-to-r from-rose-400 via-slate-200 to-emerald-400 border-slate-400"
        >
          Log
        </th>
        <td
          *ngFor="let diff of differential"
          class="text-center border"
          [ngClass]="diffColor(diff)"
        >
          {{ diff | number : "1.0-0" }}
        </td>
      </tr>
    </tfoot>
  </table>
</div>
