<div class="p-6 bg-page min-h-screen">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold font-nasa">Open Leagues</h1>

    <div class="flex space-x-4 items-center">
      <!-- Add New League Button -->
      <button
        routerLink="new"
        class="h-10 w-10 bg-menu-500 stroke-symbolColor-inverted rounded-md flex justify-center items-center shadow hover:bg-menu-600"
      >
        <plus-svg class="h-5 w-5"></plus-svg>
      </button>

      <!-- My Leagues Button -->
      <button
        class="px-4 py-2 bg-menu-500 text-symbolColor-inverted rounded-md shadow hover:bg-menu-600"
      >
        My Leagues
      </button>
    </div>
  </div>
  <div class="flex justify-between items-center text-sm font-semibold mb-2">
    <div>Results: 3</div>
    <div class="flex space-x-4 items-center">
      <!-- Filter Button -->

      <div (click)="toggleFilterBox()" class="h-6 aspect-square">
        <filter-svg></filter-svg>
      </div>
      <!-- Sort Options -->

      <div (click)="toggleFilterBox()" class="h-6 aspect-square">
        <sort-down-svg></sort-down-svg>
      </div>
    </div>
  </div>

  <!-- Filter Box (initially hidden) -->
  <div
    *ngIf="isFilterBoxOpen"
    class="absolute top-20 right-6 bg-white p-4 shadow-lg rounded-lg w-72"
  >
    <h3 class="text-lg font-semibold mb-4">Filter Options</h3>

    <div class="mb-4">
      <label class="block text-sm font-bold text-menu-600 mb-1">Format</label>
      <select [(ngModel)]="filter.format" class="w-full p-2 border rounded-md">
        <option value="">Any</option>
        <option *ngFor="let format of formats" [value]="format">
          {{ format }}
        </option>
      </select>
    </div>

    <div class="mb-4">
      <label class="block text-sm font-bold text-menu-600 mb-1">Ruleset</label>
      <select [(ngModel)]="filter.ruleset" class="w-full p-2 border rounded-md">
        <option value="">Any</option>
        <option *ngFor="let ruleset of rulesets" [value]="ruleset">
          {{ ruleset }}
        </option>
      </select>
    </div>

    <div class="mb-4">
      <label class="block text-sm font-bold text-menu-600 mb-1">Platform</label>
      <select
        [(ngModel)]="filter.platform"
        class="w-full p-2 border rounded-md"
      >
        <option value="">Any</option>
      </select>
    </div>

    <div class="mb-4">
      <label class="block text-sm font-bold text-menu-600 mb-1"
        >Skill Level</label
      >
      <select
        [(ngModel)]="filter.skillLevel"
        class="w-full p-2 border rounded-md"
      >
        <option value="">Any</option>
      </select>
    </div>

    <div class="flex justify-end space-x-2">
      <button
        (click)="applyFilters()"
        class="px-4 py-2 bg-green-500 text-white rounded-md shadow hover:bg-green-600"
      >
        Apply
      </button>
      <button
        (click)="clearFilters()"
        class="px-4 py-2 bg-red-500 text-white rounded-md shadow hover:bg-red-600"
      >
        Clear
      </button>
    </div>
  </div>

  <!-- League Ads List -->
  <league-ad
    [league]="league"
    [index]="i"
    *ngFor="let league of filteredLeagues; let i = index"
  ></league-ad>
</div>
