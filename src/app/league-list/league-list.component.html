<div class="p-6 bg-gray-50 min-h-screen">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold text-gray-700 font-nasa">Open Leagues</h1>

    <div class="flex space-x-4 items-center">
      <!-- Add New League Button -->
      <button
        routerLink="new"
        class="h-10 w-10 bg-indigo-500 text-white rounded-full flex justify-center items-center shadow hover:bg-indigo-600"
      >
        <plus-svg class="h-5 w-5"></plus-svg>
      </button>

      <!-- My Leagues Button -->
      <button
        class="px-4 py-2 bg-gray-500 text-white rounded-md shadow hover:bg-gray-600"
        routerLink="/my-leagues"
      >
        My Leagues
      </button>
    </div>
  </div>
  <div class="flex justify-between items-center mb-2">
    <div>Results: 3</div>
    <div class="flex space-x-4 items-center">
      <!-- Filter Button -->
      <button
        (click)="toggleFilterBox()"
        class="px-4 py-2 bg-blue-500 text-white rounded-md shadow hover:bg-blue-600"
      >
        Filter
      </button>

      <!-- Sort Options -->
      <select
        [(ngModel)]="sortOption"
        (change)="sortLeagues()"
        class="p-2 border rounded-md focus:ring focus:ring-blue-300"
      >
        <option value="createdAt">Created Date</option>
        <option value="closesAt">Close Date</option>
      </select>
    </div>
  </div>

  <!-- Filter Box (initially hidden) -->
  <div
    *ngIf="isFilterBoxOpen"
    class="absolute top-20 right-6 bg-white p-4 shadow-lg rounded-lg w-72"
  >
    <h3 class="text-lg font-semibold mb-4">Filter Options</h3>

    <div class="mb-4">
      <label class="block text-sm font-bold text-gray-600 mb-1">Format</label>
      <select [(ngModel)]="filter.format" class="w-full p-2 border rounded-md">
        <option value="">Any</option>
        <option *ngFor="let format of formats" [value]="format">
          {{ format }}
        </option>
      </select>
    </div>

    <div class="mb-4">
      <label class="block text-sm font-bold text-gray-600 mb-1">Ruleset</label>
      <select [(ngModel)]="filter.ruleset" class="w-full p-2 border rounded-md">
        <option value="">Any</option>
        <option *ngFor="let ruleset of rulesets" [value]="ruleset">
          {{ ruleset }}
        </option>
      </select>
    </div>

    <div class="mb-4">
      <label class="block text-sm font-bold text-gray-600 mb-1">Platform</label>
      <select
        [(ngModel)]="filter.platform"
        class="w-full p-2 border rounded-md"
      >
        <option value="">Any</option>
      </select>
    </div>

    <div class="mb-4">
      <label class="block text-sm font-bold text-gray-600 mb-1"
        >Skill Level</label
      >
      <select
        [(ngModel)]="filter.skillLevel"
        class="w-full p-2 border rounded-md"
      >
        <option value="">Any</option>
      </select>
    </div>

    <div class="flex justify-end space-x-2">
      <button
        (click)="applyFilters()"
        class="px-4 py-2 bg-green-500 text-white rounded-md shadow hover:bg-green-600"
      >
        Apply
      </button>
      <button
        (click)="clearFilters()"
        class="px-4 py-2 bg-red-500 text-white rounded-md shadow hover:bg-red-600"
      >
        Clear
      </button>
    </div>
  </div>

  <!-- League Ads List -->
  <league-ad
    [league]="league"
    [index]="i"
    *ngFor="let league of filteredLeagues; let i = index"
  ></league-ad>
</div>
