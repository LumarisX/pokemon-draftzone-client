<div class="flex flex-col justify-between h-dvh">
  <header class="z-10 flex w-full p-2 border-b-2 bg-slate-300 border-slate-400">
    <div class="relative flex sm:hidden">
      <button
        (click)="menuDropdown = !menuDropdown"
        id="dropdownButton"
        class="block w-8 px-1 py-1 text-gray-800 bg-gray-200 rounded-md sm:hidden focus:outline-none"
      >
        <img class="" src="../assets/icons/menu.svg" />
      </button>
      <div
        class="flex items-center justify-center mx-2 rounded w-28 hover:bg-slate-200"
      >
        <a class="text-xl" routerLink="/">DraftZone</a>
      </div>

      <div
        *ngIf="menuDropdown"
        (click)="menuDropdown = false"
        class="absolute left-0 flex-col block p-2 bg-white border border-gray-200 rounded-md shadow-md sm:flex sm:hidden top-full"
      >
        <div class="flex items-center h-full px-3 hover:bg-slate-200">
          <a routerLink="/draft">Drafts</a>
        </div>
        <div class="flex items-center h-full px-3">
          <a class="opacity-50">Planner</a>
        </div>
        <div class="flex items-center h-full px-3">
          <a class="opacity-50">Statistics</a>
        </div>
      </div>
    </div>
    <div class="hidden sm:flex">
      <div
        class="flex items-center justify-center rounded w-28 hover:bg-slate-200"
      >
        <a class="text-xl" routerLink="/">DraftZone</a>
      </div>
      <div class="flex">
        <div class="flex items-center h-full px-3 rounded hover:bg-slate-200">
          <a routerLink="/draft">Drafts</a>
        </div>
        <div class="flex items-center h-full px-3 rounded">
          <a class="opacity-50">Planner</a>
        </div>
        <div class="flex items-center h-full px-3 rounded">
          <a class="opacity-50">Statistics</a>
        </div>
      </div>
    </div>
    <div class="flex justify-end flex-grow h-full">
      <div class="h-full px-4 hover:bg-slate-200">
        <ng-container *ngIf="auth.isAuthenticated() | async; else loggedOut">
          <div
            *ngIf="auth.user() | async as user"
            class="flex h-8"
            (click)="userDropdown = !userDropdown"
          >
            <div class="flex items-center h-full space-x-2">
              <img src="{{ user.picture }}" class="h-full rounded-full" />
              <div>{{ user.name }}</div>
            </div>
          </div>
          <div *ngIf="userDropdown" class="">
            <button (click)="auth.logout()">Log out</button>
          </div>
        </ng-container>

        <ng-template #loggedOut>
          <button (click)="auth.login()">Log in</button>
        </ng-template>
      </div>
    </div>
  </header>
  <main class="w-full h-full mb-auto overflow-y-auto">
    <router-outlet></router-outlet>
  </main>
  <footer class="z-10 flex w-full border-t-2 bg-slate-300 border-slate-400">
    <div class="flex items-center w-1/2">
      <a href="https://www.buymeacoffee.com/xlumarisxu" class="mx-2 w-fit">
        <div class="hidden text-xs sm:block">
          Support the creator and keep the site ad-free
        </div>
        <div class="block text-sm sm:hidden">Donate</div>
      </a>
    </div>
    <div class="flex justify-end w-1/2">
      <a href="https://discord.gg/sQUEBW4UVx" target="_blank"
        ><img class="h-5 mx-5 my-1" src="../assets/icons/discord-mark-blue.svg"
      /></a>
    </div>
  </footer>
</div>
