<div class="coverage-main">
  <div class="sprite-container">
    <div class="sprite-spacer">
      <div class="sprite-wrapper">
        <sprite [pokemon]="pokemon" [flipped]="true"></sprite>
      </div>
    </div>
    <button class="reset-button" (click)="resetRecommended()">Reset</button>
  </div>
  <div class="coverage-container">
    <div class="category-container">
      <img
        class="category-img"
        src="../../../../../assets/icons/moves/move-physical.png"
        alt="Physical Moves"
      />
      <div class="type-container">
        @for (move of pokemon.coverage.physical; track move) {
          <div
            class="type-label"
            [ngClass]="{
              selected: move.selected,
            }"
            [matTooltip]="move.name"
            matTooltipPosition="above"
            (click)="move.selected = !move.selected; updateCoverage()"
            [style.background-color]="typeColor(move.type)"
          >
            <div class="type-text">
              {{ move.type }}
            </div>
          </div>
        }
      </div>
    </div>
    <div class="category-container">
      <img
        class="category-img"
        src="../../../../../assets/icons/moves/move-special.png"
        alt="Special Moves"
      />
      <div class="type-container">
        @for (move of pokemon.coverage.special; track move) {
          <div
            class="type-label"
            [ngClass]="{
              selected: move.selected,
            }"
            [matTooltip]="move.name"
            matTooltipPosition="above"
            (click)="move.selected = !move.selected; updateCoverage()"
            [style.background-color]="typeColor(move.type)"
          >
            <div class="type-text">
              {{ move.type }}
            </div>
          </div>
        }
      </div>
    </div>
  </div>
  <div class="chart-container">
    <div class="chart-wrapper">
      <effectiveness-chart
        [data]="[{ category: 'effectiveness', se: se, e: e, ne: ne }]"
      ></effectiveness-chart>
    </div>
    <div class="sprite-container">
      @for (pokemon of coverage; track pokemon) {
        <sprite
          [ngClass]="{
            '!bg-scale-positive-2': pokemon.max > 1,
            '!bg-scale-negative-2': pokemon.max < 1,
          }"
          [pokemon]="pokemon.pokemon"
        ></sprite>
      }
    </div>
  </div>
</div>
