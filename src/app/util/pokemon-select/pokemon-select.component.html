<form>
  <mat-form-field>
    <mat-label>Pokemon</mat-label>
    <input
      type="text"
      spellcheck="false"
      placeholder="Pick one"
      aria-label="Pokemon"
      matInput
      [formControl]="selectedForm"
      [matAutocomplete]="auto"
      [(ngModel)]="selected"
      [disabled]="isDisabled"
    />
    @if (selected) {
      <button
        type="button"
        matSuffix
        mat-icon-button
        aria-label="Clear"
        (click)="clearSelection($event)"
      >
        <mat-icon svgIcon="xmark"></mat-icon>
      </button>
    }
    <mat-autocomplete
      autoActiveFirstOption
      #auto="matAutocomplete"
      [displayWith]="displayName"
      (optionSelected)="selectOption($event.option.value)"
    >
      @for (option of filteredOptions | async; track $index) {
        <mat-option [value]="option">
          <div class="pokemon-option">
            <sprite [flipped]="true" [pokemon]="option"></sprite>
            {{ option.name }}
          </div>
        </mat-option>
      }
    </mat-autocomplete>
  </mat-form-field>
</form>
